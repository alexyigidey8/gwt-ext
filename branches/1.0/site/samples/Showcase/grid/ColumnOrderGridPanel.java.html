
<textarea name="code" class="java" style="display:none;">
MemoryProxy proxy = new MemoryProxy(SampleData.getCountries());
RecordDef recordDef = new RecordDef(
        new FieldDef[]{
                new StringFieldDef("abbr"),
                new StringFieldDef("name"),
                new StringFieldDef("capital"),
                new StringFieldDef("continent"),
                new IntegerFieldDef("population"),
                new IntegerFieldDef("area")
        }
);

ArrayReader reader = new ArrayReader(recordDef);

ColumnModel columnModel = new ColumnModel(new ColumnConfig[]{
        new ColumnConfig() {
            {
                setHeader("Flag");
                setWidth(50);
                setSortable(false);
                setDataIndex("abbr");
                setRenderer(new Renderer() {
                    public String render(Object value, CellMetadata cellMetadata, Record record, int rowIndex, int colNum, Store store) {
                        return Format.format("<img src=\"images/flags/{0}.gif\">", new String[]{record.getAsString("abbr")});
                    }
                });
            }
        },
        new ColumnConfig() {
            {
                setHeader("Country");
                setWidth(100);
                setSortable(true);
                setDataIndex("name");
            }
        },
        new ColumnConfig() {
            {
                setId("capitalCol");
                setHeader("Capital");
                setWidth(100);
                setSortable(true);
                setDataIndex("capital");
            }
        },
        new ColumnConfig() {
            {
                setId("continentCol");
                setHeader("Continent");
                setWidth(100);
                setDataIndex("continent");
            }
        }
});

Store store = new Store(proxy, reader);

//create and render grid
final Grid grid = new Grid("grid-example-col", "460px", "300px", store, columnModel, new GridConfig() {
    {
        setAutoExpandColumn("continentCol");
    }
});

grid.render();
store.load();

Button show = new Button(new ButtonConfig() {
    {
        setText("Show Capitals");
        setButtonListener(new ButtonListenerAdapter() {
            public void onClick(Button button, EventObject e) {
                grid.showColumn("capitalCol");
            }
        });
    }
});

Button hide = new Button(new ButtonConfig() {
    {
        setText("Hide Capitals");
        setButtonListener(new ButtonListenerAdapter() {
            public void onClick(Button button, EventObject e) {
                grid.hideColumn("capitalCol");
            }
        });
    }
});
</textarea>


<script class="javascript">
    dp.SyntaxHighlighter.HighlightAll('code');
</script>
