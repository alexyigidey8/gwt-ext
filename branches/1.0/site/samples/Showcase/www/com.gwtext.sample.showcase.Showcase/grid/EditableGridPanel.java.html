
<textarea name="code" class="java" style="display:none;">
HttpProxy proxy = new HttpProxy("data/plants.xml", "GET");
XmlReader reader = new XmlReader("plant", new RecordDef(
		new FieldDef[]{
				new StringFieldDef("common"),
				new StringFieldDef("botanical"),
				new StringFieldDef("light"),
				new FloatFieldDef("price"),
				new DateFieldDef("availDate", "availability", "m/d/Y"),
				new BooleanFieldDef("indoor")
		}
));

Store store = new Store(proxy, reader);

ColumnModel columnModel = new ColumnModel(new ColumnConfig[]{
		new ColumnConfig() {
			{
				setHeader("Common Name");
				setDataIndex("common");
				setWidth(220);
				setEditor(new GridEditor(new TextField(new TextFieldConfig() {
					{
						setAllowBlank(false);
					}
				})));
			}
		},
		new ColumnConfig() {
			{
				setHeader("Light");
				setDataIndex("light");
				setWidth(130);
			}
		},
		new ColumnConfig() {
			{
				setHeader("Price");
				setDataIndex("price");
				setWidth(70);
				setAlign("right");
				setRenderer(new Renderer() {
					public String render(Object value, CellMetadata cellMetadata, Record record, int rowIndex, int colNum, Store store) {
						//cellMetadata.setHtmlAttribute("style=\"background:yellow;\"");
						cellMetadata.setCssClass("foobar");
						return "$" + value;
					}
				});
				setEditor(new GridEditor(new NumberField(new NumberFieldConfig() {
					{
						setAllowBlank(false);
						setAllowNegative(false);
						setMaxValue(10);
					}
				})));
			}
		},
		new ColumnConfig() {
			{
				setHeader("Available");
				setDataIndex("availDate");
				setWidth(95);
				setEditor(new GridEditor(new com.gwtext.client.widgets.form.DateField(new DateFieldConfig() {
					{
						setFormat("m/d/Y");
						setMinValue("01/01/06");
						setDisabledDays(new int[]{0, 6});
						setDisabledDaysText("Plants are not available on the weekend");
					}
				})));
			}
		},
		new ColumnConfig() {
			{
				setHeader("Indoor?");
				setDataIndex("indoor");
				setWidth(55);

				//use custom checkbox renderer
				setRenderer(new Renderer() {
					public String render(Object value, CellMetadata cellMetadata, Record record, int rowIndex, int colNum, Store store) {
						boolean checked = ((Boolean) value).booleanValue();
						return "<img class=\"checkbox\" src=\"js/ext/resources/images/default/menu/" + (checked ? "checked.gif" : "unchecked.gif") + "\"/>";
					}
				});
			}
		}
});
columnModel.setDefaultSortable(true);

EditorGrid grid = new EditorGrid("grid-example2", "600px", "300px", store, columnModel);

grid.addGridCellListener(new GridCellListenerAdapter() {
	public void onCellClick(Grid grid, int rowIndex, int colIndex, EventObject e) {
		if (grid.getColumnModel().getDataIndex(colIndex).equals("indoor") && e.getTarget(".checkbox", 1) != null) {
			Record record = grid.getStore().getAt(rowIndex);
			record.set("indoor", !record.getAsBoolean("indoor"));
		}
	}
});

grid.render();

store.load(new StoreLoadConfig() {
	{
		setParams(new UrlParam[]{new UrlParam("rnd", new Date().getTime() + "")});
	}

});
       
</textarea>


<script class="javascript">
    dp.SyntaxHighlighter.HighlightAll('code');
</script>
