
<textarea name="code" class="java" style="display:none;">
MemoryProxy proxy = new MemoryProxy(SampleData.getCompanyData());
RecordDef recordDef = new RecordDef(
		new FieldDef[]{
				new StringFieldDef("company"),
				new FloatFieldDef("price"),
				new FloatFieldDef("change"),
				new FloatFieldDef("pctChange"),
				new DateFieldDef("lastChanged", "n/j h:ia")
		}
);

ArrayReader reader = new ArrayReader(recordDef);
Store store = new Store(proxy, reader);
store.load();

//setup column model
ColumnModel columnModel = new ColumnModel(new ColumnConfig[]{
		new ColumnConfig() {
			{
				setHeader("Company");
				setWidth(160);
				setSortable(true);
				setLocked(false);
				setDataIndex("company");
			}
		},
		new ColumnConfig() {
			{
				setHeader("Price");
				setWidth(75);
				setSortable(true);
				setDataIndex("price");
				setRenderer(new Renderer() {
					public String render(Object value, CellMetadata cellMetadata, Record record, int rowIndex, int colNum, Store store) {
						return "$" + value;
					}
				});
			}
		},
		new ColumnConfig() {
			{
				setId("change");
				setHeader("Change");
				setWidth(75);
				setSortable(true);
				setDataIndex("change");
				setRenderer(new Renderer() {
					public String render(Object value, CellMetadata cellMetadata, Record record, int rowIndex, int colNum, Store store) {
						if (((Float) value).floatValue() < 0) {
							return "<span style='color:red;'>" + value + "</span>";
						} else {
							return value.toString();
						}
					}
				});
			}
		},
		new ColumnConfig() {
			{
				setHeader("% Change");
				setWidth(75);
				setSortable(true);
				setDataIndex("pctChange");
			}
		}
});

//create and render grid
final Grid grid = new Grid("grid-example1", "460px", "300px", store, columnModel);

//add custom row rendering logic
grid.setView(new GridView() {
    public String getRowClass(Record record, int index) {
        float price = record.getAsFloat("price");
        if(price <20) {
            return "yellowClass";
        } else if (price < 40) {
            return "orangeClass";
        } else if (price < 80) {
            return "blueClass";
        } else {
            return "";
        }
    }
});

grid.render();
</textarea>


<script class="javascript">
    dp.SyntaxHighlighter.HighlightAll('code');
</script>
