
<textarea name="code" class="java" style="display:none;">

final TreePanel treePanel = new TreePanel("cb-tree", new TreePanelConfig() {
    {
        setAnimate(true);
        setEnableDD(true);
        setContainerScroll(true);
        setRootVisible(true);
    }
});

final XMLTreeLoader loader = new XMLTreeLoader(new XMLTreeLoaderConfig() {
    {
        setDataUrl("countries-cb.xml");
        setMethod("get");
        setRootTag("countries");
        setFolderIdMapping("@id");
        setLeafIdMapping("@id");
        setFolderTitleMapping("@title");
        setFolderTag("team");
        setLeafTitleMapping("@title");
        setLeafTag("country");
        setQtipMapping("@qtip");
        setDisabledMapping("@disabled");
        setCheckedMapping("@checked");
        setIconMapping("@icon");
        setAttributeMappings(new String[]{"@rank"});
    }
});
AsyncTreeNode root = new AsyncTreeNode("Countries", new AsyncTreeNodeConfig() {
    {
        setLoader(loader);
    }
});

treePanel.setRootNode(root);
treePanel.render();

root.expand();
treePanel.expandAll();

Button button = new Button(new ButtonConfig() {
    {
        setText("Show Checked");
        setButtonListener(new ButtonListenerAdapter() {
            public void onClick(Button button, EventObject e) {
                TreeNode[] checkedNodes = treePanel.getChecked();
                String checkedNodesString = "";
                for (int i = 0; i < checkedNodes.length; i++) {
                    TreeNode checkedNode = checkedNodes[i];
                    checkedNodesString += "<br>" + checkedNode.getText();
                }
                Showcase.showMessage("Checked Nodes", checkedNodesString);
            }
        });
    }
});

Button toggle = new Button(new ButtonConfig() {
    {
        setText("Toggle Team A");
        setButtonListener(new ButtonListenerAdapter() {
            public void onClick(Button button, EventObject e) {
                treePanel.getNodeById("team-a").getUI().toggleCheck();
            }
        });
    }
});

HorizontalPanel buttonPanel = new HorizontalPanel();
buttonPanel.setSpacing(15);
buttonPanel.add(button);
buttonPanel.add(toggle);

</textarea>


<script class="javascript">
    dp.SyntaxHighlighter.HighlightAll('code');
</script>
