
<textarea name="code" class="java" style="display:none;">
MemoryProxy proxy = new MemoryProxy(SampleData.getCompanyData());
RecordDef recordDef = new RecordDef(
        new FieldDef[]{
                new StringFieldDef("company"),
                new FloatFieldDef("price"),
                new FloatFieldDef("change"),
                new FloatFieldDef("pctChange"),
                new DateFieldDef("lastChanged", "n/j h:ia"),
                new StringFieldDef("symbol")
        }
);

ArrayReader reader = new ArrayReader(recordDef);
Store store = new Store(proxy, reader);
store.load();

ColumnModel columnModel = ...;

Grid grid = new Grid("my-form-grid", "300px", "300px", store, columnModel);

final Form form = new Form(new FormConfig() {
    {
        setWidth(350);
        setHeader("Form with Grid");
        setLabelWidth(75);
        setSurroundWithBox(true);
    }
});

form.add(new TextField(new TextFieldConfig() {
    {
        setFieldLabel("Company");
        setName("company");
        setWidth(175);
        setAllowBlank(false);
    }
}));

form.add(new TextField(new TextFieldConfig() {
    {
        setFieldLabel("Symbol");
        setName("symbol");
        setWidth(175);
    }
}));

form.add(new TextField(new TextFieldConfig() {
    {
        setFieldLabel("Price");
        setName("price");
        setWidth(175);
    }
}));

form.fieldset("My Favourites");

form.container("my-form-grid-container");
form.end(); //end contianer

form.end();  //end fieldset

form.addButton("Save");
form.addButton("Cancel");
form.render();

Panel gridPanel = DOMUtil.convertDivToPanel("my-form-grid-container");

//add a grid row selection listener so that when a row is selcted, the corresponding record is loaded into the form
grid.getSelectionModel().addRowSelectionListener(new RowSelectionListenerAdapter() {
    public void onRowSelect(RowSelectionModel sm, int rowIndex) {
        form.loadRecord(sm.getSelected());
    }
});
gridPanel.add(grid);

</textarea>

<script class="javascript">
    dp.SyntaxHighlighter.HighlightAll('code');
</script>
